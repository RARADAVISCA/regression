---
title: "Analisis & Prediksi Konsumsi Heating Oil"
date: "`r Sys.Date()`"
author: Rara Dwi Davisca - Rekayasa Perangkat Lunak - Institut Teknologi Statistika dan Bisnis Muhammadiyah
output:
  rmdformats::robobook:
    self_contained: true
    thumbnails: true
    lightbox: true
    gallery: false
    highlight: tango
bibliography: references.bib
---
- Rara Dwi Davisca - Rekayasa Perangkat Lunak - Institut Teknologi Statistika dan Bisnis Muhammadiyah `UTS Regression Model`

```{=html}
<style>
body{
text-align: justify}
</style>
```
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(corrplot)
library(ggplot2)
library(readr)
library(caret)
```

## Soal 1 - Analisis Konsumsi Heating Oil

### 1.1 Membaca Data
```{r}
data <- read_csv("HeatingOil.csv")
head(data)
```

### 1.2 Membuat Correlation Matrix
```{r}
cor_data <- data %>%
  select(Heating_Oil, Insulation, Temperature, Num_Occupants, Avg_Age, Home_Size)

corr_matrix <- cor(cor_data)
corrplot(corr_matrix, method = "color", addCoef.col = "black", tl.col = "black", tl.cex = 0.6)
```


### 1.3 Interpretasi Correlation Matrix
- Korelasi negatif antara **Temperature** dan **Heating_Oil**: makin hangat cuaca, makin sedikit konsumsi minyak.
- Korelasi positif antara **Home_Size** dan **Heating_Oil**: rumah besar butuh lebih banyak minyak.
- Korelasi lemah antara **Avg_Age** dan konsumsi minyak.

### 1.4 Scatter Plot Heating_Oil vs Avg_Age
```{r}
ggplot(data, aes(x = Heating_Oil, y = Avg_Age, color = Heating_Oil)) +
  geom_point() +
  scale_color_gradient(low = "blue", high = "red") +
  theme_minimal()
```

**Interpretasi:** Tidak terlihat hubungan kuat; usia penghuni tidak banyak memengaruhi konsumsi minyak.

### 1.5 Scatter Plot Temperature vs Insulation
```{r}
ggplot(data, aes(x = Temperature, y = Insulation, color = Heating_Oil)) +
  geom_point() +
  scale_color_gradient(low = "green", high = "red") +
  theme_minimal()
```

**Interpretasi:** Rumah di suhu dingin dan insulasi rendah cenderung memakai lebih banyak minyak.

### 1.6 Rekomendasi untuk Sarah
- Fokus promosi ke rumah besar, insulasi buruk, di daerah bersuhu rendah.
- Segmentasi pelanggan berdasarkan ukuran rumah dan lokasi geografis.

---

## Soal 2 - Prediksi Jumlah Konsumsi Minyak

### 2.1 Membuat Model Regresi (oleh Sarah)
```{r}
model <- lm(Heating_Oil ~ Insulation + Temperature + Num_Occupants + Avg_Age + Home_Size, data = data)
summary(model)

saveRDS(model, "model_heating_oil.rds")  # Simpan model
```

---

## Soal 3 - Prediksi oleh Marketer (Tanpa Lihat Data Asli)

### 3.1 Membaca Model & Data Baru
```{r}
model_sarah <- readRDS("model_heating_oil.rds")
marketing_data <- read_csv("HeatingOil-Marketing.csv")
```

### 3.2 Prediksi untuk Calon Pelanggan
```{r}
prediksi <- predict(model_sarah, newdata = marketing_data)
marketing_data$Prediksi_Heating_Oil <- prediksi

head(marketing_data)
```

---

## Kesimpulan
- Model regresi berhasil dibangun tanpa harus membagikan data asli.
- Marketer dapat mengestimasi kebutuhan minyak calon pelanggan secara otomatis dan efisien.

# R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents [@deCarvalho2012]. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

# Referensi

